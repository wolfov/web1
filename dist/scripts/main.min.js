const root=document.documentElement,pp=document.querySelector("#js-eventPP");if(pp){const e=document.querySelector("#js-eventOpenBtn"),t=function(e){function n(){document.removeEventListener("keyup",t),pp.removeEventListener("click",t),root.classList.remove("show-event-popup")}switch(e.type){case"keyup":"Escape"!==e.key&&27!==e.keyCode||n();break;case"click":(e.target===this||e.target.classList.contains("js-ppCloseBtn"))&&n()}};e.addEventListener("click",(function(){root.classList.add("show-event-popup"),document.addEventListener("keyup",t),pp.addEventListener("click",t)}))}const navToggle=document.querySelector("#js-navToggle");navToggle.addEventListener("click",(function(){root.classList.toggle("show-nav")}));const jsSelectric=$(".js-selectric");jsSelectric.length&&jsSelectric.selectric({nativeOnMobile:!1});const mobileMask=$(".js-mobileMask");mobileMask.length&&mobileMask.mask("+7 (000) 000 00 00",{placeholder:"+7 (___) ___ __ __"});const dateField=$(".js-dateField");if(dateField.length){const e=function(e){const t=e.find(".js-dateInput"),n=e.find(".js-dateDay"),s=e.find(".js-dateMonth"),o=e.find(".js-dateYear"),c={autoClose:!0,minDate:new Date,navTitles:{days:"MMMM <i>yyyy</i>"},onSelect:function({date:e}){n.val(e?("0"+e.getDate()).slice(-2):""),s.val(e?("0"+(e.getMonth()+1)).slice(-2):""),o.val(e?e.getFullYear():"")}};new AirDatepicker(t[0],c)};$.each(dateField,(function(t){e($(this))}))}const eventForm=$("#js-eventForm");eventForm.length&&eventForm.validate({errorElement:"span"});const subscribeForm=$("#js-subscribeForm");if(subscribeForm.length){const e=subscribeForm.attr("action"),t=subscribeForm.find("#js-subscribeEmail");subscribeForm.validate({errorElement:"span",submitHandler:function(n,s){s.preventDefault(),$.ajax({url:e,method:"POST",data:{email:t.val()},success:function(){t.val(""),t.blur(),alert("Вы успешно подписались на рассылку новостей")},error:function(){alert("Что-то пошло не так, попробуйте еще раз")}})}})}